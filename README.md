# 🧠 NextAI
> 基于 **HarmonyOS NEXT** 打造的原生 AI 助手应用  
> 支持接入 OpenAI、DeepSeek、Qwen、Gemini 等主流模型，隐私本地存储，无需登录云端账户。

## 📱 应用简介

**NextAI** 是一款专为鸿蒙原生生态设计的智能助手 App，  
它将 AI 对话、模型配置、多模态交互与隐私保护完美结合。

应用特点：
- 💬 多模型对话（兼容 OpenAI、DeepSeek、Qwen、Gemini 等 API）
- 📷 支持图文对话与文件上传（需模型支持）
- 🔑 本地管理 API Key，不上传任何隐私数据
- 🎙️ 语音识别与朗读，打造沉浸式交互体验
- ⚙️ 高度自定义：上下文长度、温度、Token 控制
- 📤 支持导出对话为图片 / PDF / Markdown
- 🧩 深色主题、语言切换（中 / 英 / 繁体）
- 🔒 数据本地存储，安全可控

---

## 🧩 技术实现
NextAI 的核心采用原生 ArkTS + HarmonyOS NEXT UI 框架 构建，完全基于系统级渲染与组件体系，无任何 WebView 依赖。

- 🧱 **原生 Markdown 渲染引擎**  
  - 使用 [md4c](https://github.com/mity/md4c) 库移植到 ArkTS 环境，实现纯本地 Markdown 解析。  
  - 支持完整的 Markdown 格式，包括 **标题、表格、引用、列表、代码块、链接等语法**。  
  - 通过 ArkTS 原生组件实现排版与渲染，性能与系统文本组件一致，非 HTML 模拟绘制。

- 💡 **语法高亮与公式渲染系统**  
  - 移植 [PrismJS](https://github.com/PrismJS/prism/) 语法高亮方案至 ArkTS，兼容主流语言的代码渲染。  
  - 数学公式支持由 [MicroTeX](https://github.com/NanoMichael/MicroTeX) 模块提供，采用原生 **Canvas 绘制公式**，支持 LaTeX 格式解析与渲染。  
  - 完全脱离 JS 执行环境，渲染效率与内存占用均经过优化，确保流畅的阅读体验。
 
- 🌐 **网络通信层架构**  
  - 基于鸿蒙 **HTTPClient** 封装请求层，支持多线程并发与超时控制机制。  
  - 设计统一的 AI 接口调度中心，支持自动识别并路由至不同模型 API（如 OpenAI、DeepSeek、Qwen、Ollama 等）。  
  - 内置代理管理模块，支持 **HTTP / SOCKS5 代理配置与切换**，满足多网络环境下的访问需求。
 
- 📂 **多模态能力**  
  NextAI 不仅支持文字对话，还支持图像、文档内容解析与多模态问答。  
  - 可手动开启模型的多模态支持，实现图像上传与识别；  
  - 内置文档解析器，支持 Office 与纯文本格式内容提取；  
  - 集成 `cl100k` Token 预估算法，提供请求前成本提示。
 
---

## 🚧 待完善
目前版本已完成对以下模型的深度适配与验证：
- **Qwen (通义千问)**
- **DeepSeek**
- **Ollama（本地模型运行）**

后续规划：
- 🔧 支持更多模型提供方（如 Gemini、Claude、Moonshot 等）。  
- 🧠 引入 **智能模板系统**：选择提供方后自动填充 API 与模型配置参数。   
- 📚 集成本地知识库与向量检索功能，实现更强的上下文语义记忆与关联问答能力。

> 🧠 **愿景**：NextAI 将持续探索鸿蒙原生生态中的 AI 交互边界，  
> 以“高性能、本地优先、安全可控”为核心，为用户提供更自然的智能体验。
